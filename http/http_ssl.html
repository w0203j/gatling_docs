

<ol class="breadcrumb">
  <li><a href="../index.html">Gatling documentation</a></li>
  <li><a href="index.html" accesskey="U">
    HTTP
    </a>
  </li>
  <li><a href="">
    SSL
  </a></li>
</ol>

<div class="content-left-wrap col-md-9">
  <div id="primary" class="content-area">
    <main itemscope="" itemtype="http://schema.org/WebPageElement" itemprop="mainContentOfPage" id="main"
          class="site-main">
      <article id="documentation" class="type-post status-publish format-standard hentry category-non-classe">
        <header class="entry-header">
          <h1 class="entry-title" itemprop="headline">SSL</h1>
        </header>
        <div class="entry-content" itemprop="text">
          
          <div class="section" id="ssl">
<span id="http-ssl"></span>
<div class="section" id="disabling-sni">
<span id="http-ssl-sni"></span><h2>Disabling SNI<a class="headerlink" href="#disabling-sni" title="Permalink to this headline">¶</a></h2>
<p>By default, since JDK7, JDK enables <a class="reference external" href="http://en.wikipedia.org/wiki/Server_Name_Indication">SNI</a> by default.
This can cause SSL handshake exceptions, such as <code class="docutils literal"><span class="pre">handshake</span> <span class="pre">alert:</span>&#160; <span class="pre">unrecognized_name</span></code> when server names are not properly configured on the server side.
Browsers are more loose than JDK regarding this.</p>
<p>If you want to disable SNI, you can set the following System property:</p>
<div class="highlight-scala"><div class="highlight"><pre><span></span><span class="o">-</span><span class="nc">Djsse</span><span class="o">.</span><span class="n">enableSNIExtension</span><span class="k">=</span><span class="kc">false</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-keystore-and-truststore">
<span id="http-ssl-stores"></span><h2>Configuring KeyStore and TrustStore<a class="headerlink" href="#configuring-keystore-and-truststore" title="Permalink to this headline">¶</a></h2>
<p>Default Gatling TrustStore is very permissive and doesn’t validate certificates,
meaning that it works out of the box with self-signed certificates.</p>
<div class="section" id="shared-stores">
<span id="http-ssl-stores-shared"></span><h3>Shared Stores<a class="headerlink" href="#shared-stores" title="Permalink to this headline">¶</a></h3>
<p>One can provide custom KeyStores and TrustStores.
Configuration can be passed with the standard config mechanism, either in <code class="docutils literal"><span class="pre">gatling.conf</span></code> or with System properties:</p>
<div class="highlight-scala"><div class="highlight"><pre><span></span><span class="s">&quot;gatling.http.ssl.trustStore.type&quot;</span>      <span class="o">(</span><span class="n">optional</span><span class="o">)</span>
<span class="s">&quot;gatling.http.ssl.trustStore.file&quot;</span>      <span class="o">(</span><span class="n">required</span><span class="o">,</span> <span class="n">can</span> <span class="n">be</span> <span class="n">an</span> <span class="n">absolute</span> <span class="n">path</span><span class="o">,</span> <span class="n">or</span> <span class="n">a</span> <span class="n">classpath</span> <span class="n">location</span><span class="o">)</span>
<span class="s">&quot;gatling.http.ssl.trustStore.password&quot;</span>  <span class="o">(</span><span class="n">optional</span><span class="o">)</span>
<span class="s">&quot;gatling.http.ssl.trustStore.algorithm&quot;</span> <span class="o">(</span><span class="n">optional</span><span class="o">)</span>

<span class="s">&quot;gatling.http.ssl.keyStore.type&quot;</span>        <span class="o">(</span><span class="n">optional</span><span class="o">)</span>
<span class="s">&quot;gatling.http.ssl.keyStore.file&quot;</span>        <span class="o">(</span><span class="n">required</span><span class="o">,</span> <span class="n">can</span> <span class="n">be</span> <span class="n">an</span> <span class="n">absolute</span> <span class="n">path</span><span class="o">,</span> <span class="n">or</span> <span class="n">a</span> <span class="n">classpath</span> <span class="n">location</span><span class="o">)</span>
<span class="s">&quot;gatling.http.ssl.keyStore.password&quot;</span>    <span class="o">(</span><span class="n">optional</span><span class="o">)</span>
<span class="s">&quot;gatling.http.ssl.keyStore.algorithm&quot;</span>   <span class="o">(</span><span class="n">optional</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="per-virtual-user-stores">
<span id="http-ssl-stores-per-user"></span><h3>Per Virtual User Stores<a class="headerlink" href="#per-virtual-user-stores" title="Permalink to this headline">¶</a></h3>
<p>Sometimes, one might want to have virtual users with different KeyStores and TrustStores.</p>
<p>As KeyStores and TrustStores are define at the HTTP engine instance level, one first has to use <a class="reference internal" href="http_protocol.html#http-protocol-client-sharing"><span class="std std-ref">disableClientSharing</span></a>.</p>
<p>Then, simply pass the same properties as session attributes (manually or with a feeder).</p>
</div>
</div>
</div>

          
        </div>
      </article>
    </main>
  </div>
</div>


<div class="sidebar-wrap col-md-3 content-left-wrap">
  <div id="secondary" class="widget-area" role="complementary" itemscope="itemscope"
       itemtype="http://schema.org/WPSideBar">
    <aside id="search-2" class="widget widget_search">
      <form role="form" method="get" class="search-form" action="../search.html">
        <label>
          <span class="screen-reader-text">Search through the documentation&nbsp;:</span>
          <input type="search" class="search-field" placeholder="Search the documentation" name="q">
        </label>
        <input type="submit" class="search-submit" value="Search">
      </form>
    </aside>
    <aside class="widget">
      <h1 class="widget-title">Table of Content</h1>
      <ul>
<li><a class="reference internal" href="#">SSL</a><ul>
<li><a class="reference internal" href="#disabling-sni">Disabling SNI</a></li>
<li><a class="reference internal" href="#configuring-keystore-and-truststore">Configuring KeyStore and TrustStore</a></li>
</ul>
</li>
</ul>

    </aside>
    
    <aside class="widget">
      <h1 class="widget-title">Previous topic</h1>
      <ul>
        <li>
          <a href="http_check.html" title="Previous Chapter: Checks">
            Checks
          </a>
        </li>
      </ul>
    </aside>
    
    
    <aside class="widget">
      <h1 class="widget-title">Next topic</h1>
      <ul>
        <li>
          <a href="http_helpers.html" title="Next Chapter: HTTP Helpers">
            HTTP Helpers
          </a>
        </li>
      </ul>
    </aside>
    <aside class="widget">
      <h1 class="widget-title">Contribute</h1>
      <ul>
        <li>
          <a href="https://github.com/gatling/gatling/edit/master/src/sphinx/http/http_ssl.rst">Edit this page on Github</a>
        </li>
      </ul>
    </aside>
  </div>
</div>





